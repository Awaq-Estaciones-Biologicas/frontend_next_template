echo "ğŸƒ Running pre-push checks..."

run_command() {
  output=$("$@" 2>&1)
  status=$?
  if [ $status -eq 0 ]; then
    echo "âœ… $1 successful!"
  else
    echo "âŒ $1 failed!"
    echo "$output"
    return 1
  fi
}

echo "\nğŸ§ª Running Tests..."
run_command npm run test

if [ $? -eq 0 ]; then
  echo "\nâœ… All checks passed! Pushing changes...."
else
  echo "\nâŒ One or more checks failed. Aborting push."
  exit 1
fi
